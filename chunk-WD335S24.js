import{a as T}from"./chunk-O455IOFO.js";import{a as M,b as d,c as A,d as H,f as S,h as G,i as I,n as F,p as k}from"./chunk-2QYUIGVR.js";import"./chunk-ZI7LECHX.js";import{$a as y,Fa as l,Z as a,a as C,aa as u,ab as P,b as D,ea as h,eb as O,ia as m,ma as c,oa as b,ta as o,ua as r,va as s,xa as v,ya as _}from"./chunk-EJPCYNLR.js";function E(e,i){e&1&&(o(0,"div"),s(1,"span",15),l(2," Email is required "),r())}function w(e,i){e&1&&(o(0,"div"),s(1,"span",16),l(2," Please enter a valid email address "),r())}function B(e,i){if(e&1&&(o(0,"div",13),m(1,E,3,0,"div",14)(2,w,3,0,"div",14),r()),e&2){let n,t,p=_();a(),c("ngIf",(n=p.contactForm.get("email"))==null||n.errors==null?null:n.errors.required),a(),c("ngIf",(t=p.contactForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function N(e,i){e&1&&(o(0,"div"),s(1,"span",15),l(2," Phone number is required "),r())}function W(e,i){e&1&&(o(0,"div"),s(1,"span",16),l(2," Please enter a valid phone number "),r())}function q(e,i){if(e&1&&(o(0,"div",13),m(1,N,3,0,"div",14)(2,W,3,0,"div",14),r()),e&2){let n,t,p=_();a(),c("ngIf",(n=p.contactForm.get("phone"))==null||n.errors==null?null:n.errors.required),a(),c("ngIf",(t=p.contactForm.get("phone"))==null||t.errors==null?null:t.errors.pattern)}}var z=class e{constructor(i,n){this.fb=i;this.router=n;this.contactForm=this.fb.group({email:["",[d.required,d.email]],phone:["",[d.required,d.pattern(/^(\+27|0)[6-8][0-9]{8}$/)]]})}contactForm;personalData;stepTitles=["Sign In","Personal Info","Contact Info","Book Service"];ngOnInit(){let i=sessionStorage.getItem("verificationData"),n=sessionStorage.getItem("personalData");if(i)this.personalData=JSON.parse(i);else if(n)this.personalData=JSON.parse(n);else{this.router.navigate(["/authenticate"]);return}this.personalData.email&&this.contactForm.patchValue({email:this.personalData.email,phone:this.personalData.phone})}getProgressStep(){return 2}onContactSubmit(){if(this.contactForm.valid){let i=D(C({},this.personalData),{email:this.contactForm.value.email,phone:this.contactForm.value.phone});sessionStorage.setItem("personalData",JSON.stringify(i)),sessionStorage.removeItem("verificationData"),this.router.navigate(["/menu"])}}goBack(){this.router.navigate(["/personal-info"])}static \u0275fac=function(n){return new(n||e)(u(F),u(O))};static \u0275cmp=h({type:e,selectors:[["app-contact-info"]],decls:22,vars:10,consts:[[3,"currentStep","steps"],[1,"step-section"],[1,"step-description"],["autocomplete","on",3,"ngSubmit","formGroup"],[1,"form-group","floating-label-group"],["type","email","id","email","formControlName","email","autocomplete","email",1,"floating-input"],["for","email",1,"floating-label"],["class","error-message",4,"ngIf"],["type","tel","id","phone","formControlName","phone","autocomplete","tel",1,"floating-input"],["for","phone",1,"floating-label"],[1,"button-group"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[1,"error-message"],[4,"ngIf"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-times"]],template:function(n,t){if(n&1&&(o(0,"app-form-page-layout",0)(1,"div",1)(2,"h2"),l(3,"Contact Information"),r(),o(4,"p",2),l(5," Please provide your contact details for appointment notifications "),r(),o(6,"form",3),v("ngSubmit",function(){return t.onContactSubmit()}),o(7,"div",4),s(8,"input",5),o(9,"label",6),l(10,"Email Address *"),r(),m(11,B,3,2,"div",7),r(),o(12,"div",4),s(13,"input",8),o(14,"label",9),l(15,"Phone Number *"),r(),m(16,q,3,2,"div",7),r(),o(17,"div",10)(18,"button",11),v("click",function(){return t.goBack()}),l(19," Back "),r(),o(20,"button",12),l(21," Submit "),r()()()()()),n&2){let p,g,x,f;c("currentStep",t.getProgressStep())("steps",t.stepTitles),a(6),c("formGroup",t.contactForm),a(2),b("has-value",(p=t.contactForm.get("email"))==null?null:p.value),a(3),c("ngIf",((g=t.contactForm.get("email"))==null?null:g.invalid)&&((g=t.contactForm.get("email"))==null?null:g.touched)),a(2),b("has-value",(x=t.contactForm.get("phone"))==null?null:x.value),a(3),c("ngIf",((f=t.contactForm.get("phone"))==null?null:f.invalid)&&((f=t.contactForm.get("phone"))==null?null:f.touched)),a(4),c("disabled",t.contactForm.invalid)}},dependencies:[P,y,k,S,M,A,H,G,I,T],styles:["[_nghost-%COMP%]{--DHAGreen: #016635;--DHAOrange: #f3801f;--DHALightOrange: #f8ab18;--DHARed: #ea2127;--DHABrown: #9e5c26;--DHAApache: #ddc16a;--DHALaser: #caac6c;--DHAMaroon: #711d12;--DHAWhite: #ffffff;--DHAOffWhite: #fbfbfb;--DHABlack: #000000;--DHAOffBlack: rgb(51, 51, 51);--DHATextGray: #949494;--DHATextGrayDark: #5a5a5a;--DHAErrorColor: #ea2127;--DHADisabledButtonGray: #e6e6e6;--DHABackGroundLightGray: #f4f4f4;--DividerGray: #949494;--DHADisabledTextGray: #c4c4c4}*[_ngcontent-%COMP%]{box-sizing:border-box}h2[_ngcontent-%COMP%]{text-align:center;color:var(--DHAGreen);margin-bottom:30px;font-size:2rem;font-weight:600;margin-top:0}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}.floating-label-group[_ngcontent-%COMP%]{position:relative;margin-top:10px;margin-bottom:20px}.floating-input[_ngcontent-%COMP%]{width:100%;padding:16px 12px;border:1px solid var(--DividerGray);border-radius:6px;font-size:16px;transition:all .3s ease;box-sizing:border-box;background:var(--DHAWhite)}.floating-input[_ngcontent-%COMP%]:focus, .floating-input.has-value[_ngcontent-%COMP%]{padding:16px 12px}.floating-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--DHAGreen);box-shadow:0 0 0 3px #0166351a}.floating-input[_ngcontent-%COMP%]:disabled{background-color:var(--DHABackGroundLightGray);cursor:not-allowed;color:var(--DHADisabledTextGray);border-color:var(--DividerGray)}.floating-label[_ngcontent-%COMP%]{position:absolute;top:16px;left:12px;font-weight:600;color:var(--DHATextGray);font-size:16px;pointer-events:none;transition:all .3s ease;background:var(--DHAWhite);padding:0 4px;z-index:1}.floating-input[_ngcontent-%COMP%]:focus + .floating-label[_ngcontent-%COMP%], .floating-input.has-value[_ngcontent-%COMP%] + .floating-label[_ngcontent-%COMP%]{top:-8px;left:8px;font-size:12px;font-weight:600}label[_ngcontent-%COMP%]:not(.floating-label){display:block;margin-bottom:8px;font-weight:600;color:var(--DHATextGrayDark)}.form-control[_ngcontent-%COMP%]:not(.floating-input){width:100%;padding:12px;border:1px solid var(--DividerGray);border-radius:6px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:not(.floating-input):focus{outline:none;border-color:var(--DHAGreen);box-sizing:border-box}.form-control[_ngcontent-%COMP%]:not(.floating-input):disabled{background-color:var(--DHABackGroundLightGray);cursor:not-allowed;color:var(--DHADisabledTextGray);border-color:var(--DividerGray);box-sizing:border-box}.error-message[_ngcontent-%COMP%]{color:var(--DHAErrorColor);font-size:14px;margin-top:5px}.field-info[_ngcontent-%COMP%]{margin-top:5px}.field-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--DHATextGray);font-size:12px;font-style:italic}.step-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.step-description[_ngcontent-%COMP%]{color:var(--DHATextGray);font-size:16px;margin-bottom:30px;line-height:1.5}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.button-group[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:30px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{flex:1;padding:15px 30px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:150px}.btn-primary[_ngcontent-%COMP%]{background:var(--DHAGreen);color:var(--DHAWhite)}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--DHAWhite);transform:translateY(-2px);color:var(--DHAGreen);border:1px solid var(--DHAGreen)}.btn-primary[_ngcontent-%COMP%]:disabled{background:var(--DHADisabledButtonGray);color:var(--DHADisabledTextGray);cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:var(--DHATextGrayDark);color:var(--DHAWhite)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--DHAOffBlack)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding:15px}input[_ngcontent-%COMP%]{font-size:14px}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:16px}.button-group[_ngcontent-%COMP%]{gap:10px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px;min-width:0}}"]})};export{z as ContactInfoComponent};
