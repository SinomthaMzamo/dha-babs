import{a as N}from"./chunk-KGLZB4HR.js";import{a as M,b as u,c as E,d as H,g as G,i as T,j as k,o as z,q as w}from"./chunk-5EPOGLLD.js";import"./chunk-A346NTJD.js";import{$a as F,Fa as m,Z as a,a as y,aa as C,ab as S,b as O,ea as I,eb as A,ia as d,ma as c,oa as f,ta as n,ua as i,va as s,xa as x,ya as g}from"./chunk-ZAPQCUGD.js";function V(e,r){e&1&&(n(0,"div"),s(1,"span",19),m(2," Email is required "),i())}function W(e,r){e&1&&(n(0,"div"),s(1,"span",20),m(2," Please enter a valid email address "),i())}function L(e,r){if(e&1&&(n(0,"div",17),d(1,V,3,0,"div",18)(2,W,3,0,"div",18),i()),e&2){let o,t,l=g();a(),c("ngIf",(o=l.contactForm.get("email"))==null||o.errors==null?null:o.errors.required),a(),c("ngIf",(t=l.contactForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function R(e,r){e&1&&(n(0,"div"),s(1,"span",19),m(2," Confirmation email is required "),i())}function J(e,r){e&1&&(n(0,"div"),s(1,"span",20),m(2," Please enter a valid email address "),i())}function Y(e,r){e&1&&(n(0,"div"),s(1,"span",20),m(2," Email addresses do not match "),i())}function j(e,r){if(e&1&&(n(0,"div",17),d(1,R,3,0,"div",18)(2,J,3,0,"div",18)(3,Y,3,0,"div",18),i()),e&2){let o,t,l,p=g();a(),c("ngIf",(o=p.contactForm.get("confirmEmail"))==null||o.errors==null?null:o.errors.required),a(),c("ngIf",(t=p.contactForm.get("confirmEmail"))==null||t.errors==null?null:t.errors.email),a(),c("ngIf",!((l=p.contactForm.get("confirmEmail"))!=null&&l.errors)&&(p.contactForm.errors==null?null:p.contactForm.errors.mismatch))}}function $(e,r){e&1&&(n(0,"div"),s(1,"span",19),m(2," Phone number is required "),i())}function K(e,r){e&1&&(n(0,"div"),s(1,"span",20),m(2," Please enter a valid phone number "),i())}function Q(e,r){if(e&1&&(n(0,"div",17),d(1,$,3,0,"div",18)(2,K,3,0,"div",18),i()),e&2){let o,t,l=g();a(),c("ngIf",(o=l.contactForm.get("phone"))==null||o.errors==null?null:o.errors.required),a(),c("ngIf",(t=l.contactForm.get("phone"))==null||t.errors==null?null:t.errors.pattern)}}function U(e,r){e&1&&(n(0,"div"),s(1,"span",19),m(2," Confirmation phone number is required "),i())}function X(e,r){e&1&&(n(0,"div"),s(1,"span",20),m(2," Please enter a valid phone number "),i())}function Z(e,r){e&1&&(n(0,"div"),s(1,"span",20),m(2," Phone numbers do not match "),i())}function tt(e,r){if(e&1&&(n(0,"div",17),d(1,U,3,0,"div",18)(2,X,3,0,"div",18)(3,Z,3,0,"div",18),i()),e&2){let o,t,l,p=g();a(),c("ngIf",(o=p.contactForm.get("confirmPhone"))==null||o.errors==null?null:o.errors.required),a(),c("ngIf",(t=p.contactForm.get("confirmPhone"))==null||t.errors==null?null:t.errors.pattern),a(),c("ngIf",!((l=p.contactForm.get("confirmPhone"))!=null&&l.errors)&&(p.contactForm.errors==null?null:p.contactForm.errors.mismatch))}}function B(e,r){return o=>{let t=o.get(e)?.value,l=o.get(r)?.value;return!t||!l||t===l?null:{mismatch:!0}}}var q=class e{constructor(r,o){this.fb=r;this.router=o;this.contactForm=this.fb.group({email:["",[u.required,u.email]],confirmEmail:["",[u.required,u.email]],phone:["",[u.required,u.pattern(/^(\+27|0)[6-8][0-9]{8}$/)]],confirmPhone:["",[u.required,u.pattern(/^(\+27|0)[6-8][0-9]{8}$/)]]},{validators:[B("email","confirmEmail"),B("phone","confirmPhone")]})}contactForm;personalData;stepTitles=["Sign In","Personal Info","Contact Info","Book Service"];ngOnInit(){let r=sessionStorage.getItem("verificationData"),o=sessionStorage.getItem("personalData");if(r)this.personalData=JSON.parse(r);else if(o)this.personalData=JSON.parse(o);else{this.router.navigate(["/authenticate"]);return}this.personalData.email&&this.contactForm.patchValue({email:this.personalData.email,phone:this.personalData.phone})}getProgressStep(){return 2}onContactSubmit(){if(this.contactForm.valid){let r=O(y({},this.personalData),{email:this.contactForm.value.email,phone:this.contactForm.value.phone});sessionStorage.setItem("personalData",JSON.stringify(r)),sessionStorage.removeItem("verificationData"),this.router.navigate(["/menu"])}}goBack(){this.router.navigate(["/personal-info"])}static \u0275fac=function(o){return new(o||e)(C(z),C(A))};static \u0275cmp=I({type:e,selectors:[["app-contact-info"]],decls:32,vars:16,consts:[[3,"currentStep","steps"],[1,"step-section"],[1,"step-description"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"form-group","floating-label-group"],["type","email","id","email","formControlName","email","autocomplete","email",1,"floating-input"],["for","email",1,"floating-label"],["class","error-message",4,"ngIf"],["type","email","id","confirmEmail","formControlName","confirmEmail","autocomplete","off",1,"floating-input"],["for","confirmEmail",1,"floating-label"],["type","tel","id","phone","formControlName","phone","autocomplete","tel",1,"floating-input"],["for","phone",1,"floating-label"],["type","tel","id","confirmPhone","formControlName","confirmPhone","autocomplete","off",1,"floating-input"],["for","confirmPhone",1,"floating-label"],[1,"button-group"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[1,"error-message"],[4,"ngIf"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-times"]],template:function(o,t){if(o&1&&(n(0,"app-form-page-layout",0)(1,"div",1)(2,"h2"),m(3,"Contact Information"),i(),n(4,"p",2),m(5," Please provide your contact details for appointment notifications "),i(),n(6,"form",3),x("ngSubmit",function(){return t.onContactSubmit()}),n(7,"div",4),s(8,"input",5),n(9,"label",6),m(10,"Email Address *"),i(),d(11,L,3,2,"div",7),i(),n(12,"div",4),s(13,"input",8),n(14,"label",9),m(15,"Confirm Email Address *"),i(),d(16,j,4,3,"div",7),i(),n(17,"div",4),s(18,"input",10),n(19,"label",11),m(20,"Phone Number *"),i(),d(21,Q,3,2,"div",7),i(),n(22,"div",4),s(23,"input",12),n(24,"label",13),m(25,"Confirm Phone Number *"),i(),d(26,tt,4,3,"div",7),i(),n(27,"div",14)(28,"button",15),x("click",function(){return t.goBack()}),m(29," Back "),i(),n(30,"button",16),m(31," Submit "),i()()()()()),o&2){let l,p,h,v,D,_,P,b;c("currentStep",t.getProgressStep())("steps",t.stepTitles),a(6),c("formGroup",t.contactForm),a(2),f("has-value",(l=t.contactForm.get("email"))==null?null:l.value),a(3),c("ngIf",((p=t.contactForm.get("email"))==null?null:p.invalid)&&((p=t.contactForm.get("email"))==null?null:p.touched)),a(2),f("has-value",(h=t.contactForm.get("confirmEmail"))==null?null:h.value),a(3),c("ngIf",((v=t.contactForm.get("confirmEmail"))==null?null:v.touched)&&(((v=t.contactForm.get("confirmEmail"))==null?null:v.invalid)||(t.contactForm.errors==null?null:t.contactForm.errors.mismatch))),a(2),f("has-value",(D=t.contactForm.get("phone"))==null?null:D.value),a(3),c("ngIf",((_=t.contactForm.get("phone"))==null?null:_.invalid)&&((_=t.contactForm.get("phone"))==null?null:_.touched)),a(2),f("has-value",(P=t.contactForm.get("confirmPhone"))==null?null:P.value),a(3),c("ngIf",((b=t.contactForm.get("confirmPhone"))==null?null:b.touched)&&(((b=t.contactForm.get("confirmPhone"))==null?null:b.invalid)||(t.contactForm.errors==null?null:t.contactForm.errors.mismatch))),a(4),c("disabled",t.contactForm.invalid)}},dependencies:[S,F,w,G,M,E,H,T,k,N],styles:["[_nghost-%COMP%]{--DHAGreen: #016635;--DHAOrange: #f3801f;--DHALightOrange: #f8ab18;--DHARed: #ea2127;--DHABrown: #9e5c26;--DHAApache: #ddc16a;--DHALaser: #caac6c;--DHAMaroon: #711d12;--DHAWhite: #ffffff;--DHAOffWhite: #fbfbfb;--DHABlack: #000000;--DHAOffBlack: rgb(51, 51, 51);--DHATextGray: #949494;--DHATextGrayDark: #5a5a5a;--DHAErrorColor: #ea2127;--DHADisabledButtonGray: #e6e6e6;--DHABackGroundLightGray: #f4f4f4;--DividerGray: #949494;--DHADisabledTextGray: #c4c4c4}*[_ngcontent-%COMP%]{box-sizing:border-box}h2[_ngcontent-%COMP%]{text-align:center;color:var(--DHAGreen);margin-bottom:30px;font-size:2rem;font-weight:600;margin-top:0}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}.floating-label-group[_ngcontent-%COMP%]{position:relative;margin-top:10px;margin-bottom:20px}.floating-input[_ngcontent-%COMP%]{width:100%;padding:16px 12px;border:1px solid var(--DividerGray);border-radius:6px;font-size:16px;transition:all .3s ease;box-sizing:border-box;background:var(--DHAWhite)}.floating-input[_ngcontent-%COMP%]:focus, .floating-input.has-value[_ngcontent-%COMP%]{padding:16px 12px}.floating-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--DHAGreen);box-shadow:0 0 0 3px #0166351a}.floating-input[_ngcontent-%COMP%]:disabled{background-color:var(--DHABackGroundLightGray);cursor:not-allowed;color:var(--DHADisabledTextGray);border-color:var(--DividerGray)}.floating-label[_ngcontent-%COMP%]{position:absolute;top:16px;left:12px;font-weight:600;color:var(--DHATextGray);font-size:16px;pointer-events:none;transition:all .3s ease;background:var(--DHAWhite);padding:0 4px;z-index:1}.floating-input[_ngcontent-%COMP%]:focus + .floating-label[_ngcontent-%COMP%], .floating-input.has-value[_ngcontent-%COMP%] + .floating-label[_ngcontent-%COMP%]{top:-8px;left:8px;font-size:12px;font-weight:600;color:var(--DHAGreen)}label[_ngcontent-%COMP%]:not(.floating-label){display:block;margin-bottom:8px;font-weight:600;color:var(--DHATextGrayDark)}.form-control[_ngcontent-%COMP%]:not(.floating-input){width:100%;padding:12px;border:1px solid var(--DividerGray);border-radius:6px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:not(.floating-input):focus{outline:none;border-color:var(--DHAGreen);box-sizing:border-box}.form-control[_ngcontent-%COMP%]:not(.floating-input):disabled{background-color:var(--DHABackGroundLightGray);cursor:not-allowed;color:var(--DHADisabledTextGray);border-color:var(--DividerGray);box-sizing:border-box}.error-message[_ngcontent-%COMP%]{color:var(--DHAErrorColor);font-size:14px;margin-top:5px}.field-info[_ngcontent-%COMP%]{margin-top:5px}.field-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--DHATextGray);font-size:12px;font-style:italic}.step-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.step-description[_ngcontent-%COMP%]{color:var(--DHATextGray);font-size:16px;margin-bottom:30px;line-height:1.5}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.button-group[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:30px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{flex:1;padding:15px 30px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:150px}.btn-primary[_ngcontent-%COMP%]{background:var(--DHAGreen);color:var(--DHAWhite)}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--DHAWhite);transform:translateY(-2px);color:var(--DHAGreen);border:1px solid var(--DHAGreen)}.btn-primary[_ngcontent-%COMP%]:disabled{background:var(--DHADisabledButtonGray);color:var(--DHADisabledTextGray);cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:var(--DHATextGrayDark);color:var(--DHAWhite)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--DHAOffBlack)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding:15px}input[_ngcontent-%COMP%]{font-size:14px}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:16px}.button-group[_ngcontent-%COMP%]{gap:10px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px;min-width:0}}"]})};export{q as ContactInfoComponent};
