import{a as b}from"./chunk-BGADTX34.js";import{a as v}from"./chunk-CYUNRCNY.js";import{q as O}from"./chunk-5EPOGLLD.js";import{a as M}from"./chunk-A346NTJD.js";import{$a as _,Fa as n,Ha as d,Z as l,aa as s,ab as h,ea as g,eb as C,ia as u,ma as c,oa as f,ta as e,ua as t,va as x,xa as r}from"./chunk-ZAPQCUGD.js";function D(p,i){p&1&&(e(0,"div",8),n(1,"\u2192"),t())}var P=class p{constructor(i,m){this.router=i;this.bookingService=m}personalData;showSignOutModal=!1;ngOnInit(){let i=sessionStorage.getItem("personalData");i?this.personalData=JSON.parse(i):this.router.navigate(["/authenticate"]),window.scrollTo(0,0),console.log("Menu loaded - Has appointment:",this.hasAppointment()),console.log("Personal data:",this.personalData)}getPersonalInfo(){return this.personalData||{forenames:"User"}}scheduleAppointment(){sessionStorage.setItem("returnToMenu","true"),this.router.navigate(["/book-service"])}editContactDetails(){this.router.navigate(["/edit-contact-info"])}hasAppointment(){let i=sessionStorage.getItem("confirmedAppointment");return!i&&this.personalData?.idNumber?sessionStorage.getItem(`appointment_${this.personalData.idNumber}`)!==null:i!==null}viewAppointment(){this.hasAppointment()&&this.router.navigate(["/view-appointment"])}viewAllAppointments(){alert("View All Appointments feature coming soon!")}goBack(){this.router.navigate(["/contact-info"])}showSignOutConfirmation(){this.showSignOutModal=!0}closeSignOutModal(){this.showSignOutModal=!1}confirmSignOut(){this.bookingService.clearAllData(),this.showSignOutModal=!1,this.router.navigate(["/authenticate"])}static \u0275fac=function(m){return new(m||p)(s(C),s(b))};static \u0275cmp=g({type:p,selectors:[["app-menu"]],decls:59,vars:9,consts:[[1,"menu-container"],[1,"menu-content"],[1,"menu-card"],[1,"welcome-section"],[1,"capitalised"],[1,"subtitle"],[1,"menu-grid"],[1,"menu-item",3,"click"],[1,"menu-arrow"],["class","menu-arrow",4,"ngIf"],[1,"menu-footer"],[1,"btn-sign-out",3,"click"],["title","Confirm Sign Out","cancelText","Cancel","confirmText","Sign Out",3,"modalClosed","cancelClicked","confirmClicked","isOpen","closeOnOverlayClick","closeOnEscape","confirmDisabled"],[1,"sign-out-content"],[1,"warning-icon"],[1,"sign-out-details"]],template:function(m,o){m&1&&(e(0,"div",0),x(1,"app-navbar"),e(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),n(6),t(),e(7,"p",5),n(8,"What would you like to do today?"),t()(),e(9,"div",6)(10,"div",7),r("click",function(){return o.scheduleAppointment()}),e(11,"h3"),n(12,"Schedule Appointment"),t(),e(13,"p"),n(14,"Book a new appointment for DHA services"),t(),e(15,"div",8),n(16,"\u2192"),t()(),e(17,"div",7),r("click",function(){return o.editContactDetails()}),e(18,"h3"),n(19,"Edit Contact Details"),t(),e(20,"p"),n(21,"Update your personal information and contact details"),t(),e(22,"div",8),n(23,"\u2192"),t()(),e(24,"div",7),r("click",function(){return o.hasAppointment()?o.viewAppointment():null}),e(25,"h3"),n(26,"View Appointment"),t(),e(27,"p"),n(28),t(),u(29,D,2,0,"div",9),t(),e(30,"div",7),r("click",function(){return o.viewAllAppointments()}),e(31,"h3"),n(32,"All Active Appointments"),t(),e(33,"p"),n(34,"View and manage all your scheduled appointments"),t(),e(35,"div",8),n(36,"\u2192"),t()()(),e(37,"div",10)(38,"button",11),r("click",function(){return o.showSignOutConfirmation()}),n(39," Sign Out "),t()()()(),e(40,"app-ios-modal",12),r("modalClosed",function(){return o.closeSignOutModal()})("cancelClicked",function(){return o.closeSignOutModal()})("confirmClicked",function(){return o.confirmSignOut()}),e(41,"div",13)(42,"div",14),n(43,"\u26A0\uFE0F"),t(),e(44,"h3"),n(45,"Are you sure you want to sign out?"),t(),e(46,"p"),n(47," This will clear all your session data and you'll need to authenticate again. "),t(),e(48,"div",15)(49,"p")(50,"strong"),n(51,"This will:"),t()(),e(52,"ul")(53,"li"),n(54,"Clear your personal information"),t(),e(55,"li"),n(56,"Remove any saved appointments"),t(),e(57,"li"),n(58,"Sign you out of the system"),t()()()()()()),m&2&&(l(6),d(" Welcome, ",o.getPersonalInfo().forenames.split(" ")[0],"! "),l(18),f("disabled",!o.hasAppointment()),l(4),d(" ",o.hasAppointment()?"Check details of your current appointment":"No appointment scheduled"," "),l(),c("ngIf",o.hasAppointment()),l(11),c("isOpen",o.showSignOutModal)("closeOnOverlayClick",!0)("closeOnEscape",!0)("confirmDisabled",!1))},dependencies:[h,_,O,M,v],styles:["[_nghost-%COMP%]{--DHAGreen: #016635;--DHAOrange: #f3801f;--DHALightOrange: #f8ab18;--DHAWhite: #ffffff;--DHAOffWhite: #fbfbfb;--DHABlack: #000000;--DHATextGray: #949494;--DHATextGrayDark: #5a5a5a;--DHABackGroundLightGray: #f4f4f4;--DividerGray: #949494}.capitalised[_ngcontent-%COMP%]{text-transform:capitalize}.menu-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--DHAOffWhite) 0%,#e8f5e8 100%);padding-top:73px;width:100vw}.menu-content[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:40px 20px}.menu-card[_ngcontent-%COMP%]{background:var(--DHAWhite);border-radius:16px;padding:40px;box-shadow:0 10px 30px #0000001a;border:2px solid var(--DHAWhite);margin:4px auto}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--DHAGreen);font-size:2.5rem;margin-bottom:10px;font-weight:700}.subtitle[_ngcontent-%COMP%]{color:var(--DHATextGrayDark);font-size:1.2rem;margin:0}.menu-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;margin-bottom:40px}.menu-item[_ngcontent-%COMP%]{background:var(--DHAOffWhite);border:2px solid transparent;border-radius:12px;padding:30px;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.menu-item[_ngcontent-%COMP%]:hover:not(.disabled){border-color:var(--DHAOrange);background:var(--DHAWhite);transform:translateY(-5px);box-shadow:0 15px 35px #f3801f26}.menu-item.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;background:var(--DHABackGroundLightGray)}.menu-item.disabled[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 4px 15px #0000001a}.menu-item[_ngcontent-%COMP%]:hover   .menu-arrow[_ngcontent-%COMP%]{transform:translate(5px);color:var(--DHAOrange)}.menu-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:20px;display:block}.menu-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--DHAGreen);font-size:1.4rem;margin-bottom:15px;font-weight:600}.menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--DHATextGrayDark);font-size:1rem;line-height:1.5;margin:0}.menu-arrow[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;font-size:1.5rem;color:var(--DHATextGray);transition:all .3s ease;font-weight:700}.menu-footer[_ngcontent-%COMP%]{text-align:center;padding-top:30px}.btn-secondary[_ngcontent-%COMP%]{background:var(--DHATextGray);color:var(--DHAWhite);border:none;border-radius:8px;padding:12px 30px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--DHATextGrayDark);transform:translateY(-2px)}.btn-sign-out[_ngcontent-%COMP%]{background:#e74c3c;color:var(--DHAWhite);border:none;border-radius:8px;padding:12px 30px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-sign-out[_ngcontent-%COMP%]:hover{background:#c0392b;transform:translateY(-2px);box-shadow:0 8px 25px #e74c3c4d}.sign-out-content[_ngcontent-%COMP%]{text-align:center;padding:20px}.warning-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:20px}.sign-out-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--DHAGreen);font-size:1.5rem;margin-bottom:15px;font-weight:600}.sign-out-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--DHATextGrayDark);font-size:1rem;line-height:1.5;margin-bottom:20px}.sign-out-details[_ngcontent-%COMP%]{background:var(--DHAOffWhite);border-radius:8px;padding:15px;margin-top:20px;text-align:left}.sign-out-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:600;color:var(--DHAGreen)}.sign-out-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:var(--DHATextGrayDark)}.sign-out-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px;font-size:.9rem}@media (max-width: 768px){.menu-content[_ngcontent-%COMP%]{padding:0}.menu-card[_ngcontent-%COMP%]{padding:10px 8px;border-radius:12px;overflow-y:auto;box-sizing:border-box;margin:4px auto}.welcome-section[_ngcontent-%COMP%]{margin-bottom:20px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:8px}.subtitle[_ngcontent-%COMP%]{font-size:1rem}.menu-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px;margin-bottom:0}.menu-item[_ngcontent-%COMP%]{padding:8px;border-radius:10px;padding-bottom:calc(8px + 1.2rem)}.menu-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.menu-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:8px}.menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4}.menu-arrow[_ngcontent-%COMP%]{top:18px;right:18px;font-size:1.2rem}.menu-footer[_ngcontent-%COMP%]{padding-top:10px}.btn-secondary[_ngcontent-%COMP%]{padding:10px 24px;font-size:14px}}@media (max-width: 480px){.menu-content[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.menu-card[_ngcontent-%COMP%]{padding:10px 8px;margin:4px auto;width:100%}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:0}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}.menu-item[_ngcontent-%COMP%]{padding:15px;padding-bottom:calc(15px + 1.1rem)}.menu-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.menu-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.menu-arrow[_ngcontent-%COMP%]{top:15px;right:15px;font-size:1.1rem}}"]})};export{P as MenuComponent};
